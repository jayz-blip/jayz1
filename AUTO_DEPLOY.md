# Cloudflare Pages 자동 배포 가이드

## 🔄 자동 배포 시스템

Cloudflare Pages는 **Git 저장소와 연결**되어 있으면 **자동으로 배포**됩니다.

### "자동 배포 사용됨" 의미

- ✅ Git 저장소와 연결됨
- ✅ 코드 변경 시 자동 배포
- ✅ 환경 변수 변경 시 자동 재배포
- ❌ 수동 배포 버튼 없음 (자동이므로)

## 🚀 재배포 방법

### 방법 1: 환경 변수 저장 (가장 쉬움)

1. **환경 변수 저장**
   - Cloudflare Pages → Settings → Environment variables
   - `BACKEND_URL` 수정 후 **"저장"** 클릭
   - **자동으로 재배포 시작됨**

2. **배포 상태 확인**
   - "배포" 탭에서 재배포 진행 상황 확인
   - 상태: 진행 중 → 성공

### 방법 2: Git 커밋으로 재배포

```powershell
# 빈 커밋으로 재배포 트리거
git commit --allow-empty -m "Trigger redeploy"
git push origin main
```

또는:

```powershell
# 작은 변경사항 커밋
echo "" >> README.md
git add README.md
git commit -m "Trigger redeploy"
git push origin main
```

### 방법 3: 기존 배포 재배포

1. **"배포" 탭**에서 **최신 배포 찾기**
2. **배포 항목 클릭** (또는 "세부 정보 보기" 클릭)
3. **배포 상세 페이지**에서 **"재배포"** 버튼 찾기
   - 배포 상세 페이지에 재배포 옵션이 있을 수 있음

## 📋 배포 상태 확인

### 현재 배포 상태

화면을 보면:
- ✅ **"프로덕션"** 배포가 **"4분 전"**에 완료됨
- ✅ **녹색 체크 표시**: 배포 성공
- ✅ **커밋**: `f7c1487`

### 배포 진행 중 확인

1. **"배포" 탭** 확인
2. **최신 배포 상태 확인**:
   - ⏳ **진행 중**: 노란색 진행 표시
   - ✅ **성공**: 녹색 체크 표시
   - ❌ **실패**: 빨간색 X 표시

### 배포 완료 확인

- **상태**: 녹색 체크 표시
- **시간**: "X분 전" 또는 "방금 전"
- **URL**: `jayz1.pages.dev` 정상 작동

## 🔍 환경 변수 변경 후

### 자동 재배포

1. **환경 변수 저장**
   - "저장" 버튼 클릭
   - **자동으로 재배포 시작**

2. **재배포 확인**
   - "배포" 탭에서 새로운 배포 시작 확인
   - 상태: 진행 중 → 성공

3. **배포 완료 대기**
   - 보통 **2-5분** 소요
   - 배포 완료 후 테스트

## 🚀 빠른 재배포 방법

**가장 간단한 방법**:

```powershell
git commit --allow-empty -m "Trigger redeploy"
git push origin main
```

이 명령어를 실행하면:
1. 빈 커밋 생성
2. GitHub에 푸시
3. Cloudflare Pages가 자동으로 감지
4. 자동 재배포 시작

## ✅ 현재 상태 확인

화면을 보면:
- ✅ 최신 배포가 **4분 전**에 완료됨
- ✅ 배포 상태: **성공** (녹색 체크)
- ✅ 도메인: `jayz1.pages.dev`

**환경 변수를 저장했다면 재배포가 진행 중이거나 완료되었을 것입니다.**

## 🧪 배포 완료 후 테스트

1. **Cloudflare Pages URL 접속**
   - `https://jayz1.pages.dev`

2. **채팅 기능 테스트**
   - 메시지 전송
   - 응답 확인

3. **브라우저 캐시 삭제** (필요시)
   - Ctrl + Shift + Delete
   - 캐시 삭제 후 새로고침 (Ctrl + F5)

---

**환경 변수를 저장하면 자동으로 재배포됩니다!**

**배포 상태는 "배포" 탭에서 확인하세요.**

